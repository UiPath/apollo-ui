import { ApolloShell } from '@/components/ui/shell';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert';
import { CheckCircle2 } from 'lucide-react';

# Shell

Provides UiPath authentication and renders children only when authenticated.

<div className="p-4 border rounded-lg mt-4">
  <div className="text-sm text-muted-foreground mb-4">
    The Apollo Shell component wraps your application and handles UiPath authentication. Children
    are only rendered when the user is authenticated.
  </div>
  <div className="space-y-4">
    <Alert>
      <CheckCircle2 className="h-4 w-4" />
      <AlertTitle>Example: Protected Content</AlertTitle>
      <AlertDescription>
        This demonstrates the structure of content protected by Apollo Shell. In a real application,
        this content would only be visible after successful authentication.
      </AlertDescription>
    </Alert>
    <Card>
      <CardHeader>
        <CardTitle>Welcome to Apollo Shell</CardTitle>
        <CardDescription>This content is protected by Apollo Shell authentication.</CardDescription>
      </CardHeader>
      <CardContent>
        <p className="text-sm text-muted-foreground">
          The Apollo Shell component wraps your application and ensures only authenticated users can
          access the content.
        </p>
      </CardContent>
    </Card>
  </div>
</div>

## Installation

```bash
npx shadcn@latest add https://apollo-vertex.vercel.app/r/shell.json
```

## Usage

```tsx
import { ApolloShell } from '@/components/ui/shell';
```

```tsx
import { ApolloShell } from '@/components/ui/shell';
import { onCallback, type AuthConfiguration } from '@uipath/auth-react';
import { useNavigate } from '@tanstack/react-router';

function App() {
  const navigate = useNavigate();

  const configuration: AuthConfiguration = {
    authority: 'https://your-org.cloud.uipath.com/identity_',
    redirect_uri: 'http://localhost:3000/auth_callback',
    post_logout_redirect_uri: 'http://localhost:3000',
  };

  return (
    <ApolloShell
      configuration={configuration}
      companyName="Your Company"
      productName="Your Product"
      onSigninCallback={(user) => {
        onCallback(user, (to) => {
          navigate({ to: to });
        });
      }}
    >
      {/* Your authenticated app content */}
      <YourApp />
    </ApolloShell>
  );
}
```
