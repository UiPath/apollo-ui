import { ShellTemplate } from '@/templates/ShellTemplate';

# ShellTemplate

A starter template that includes UiPath authentication and a collapsible sidebar with smooth animations.

<div className="not-prose my-8 rounded-lg overflow-hidden" style={{ height: '600px' }}>
  <div className="[&_.h-screen]:!h-full h-full">
    <ShellTemplate />
  </div>
</div>

## Features

- **UiPath Authentication**: Built-in authentication flow with `@uipath/auth-react`
- **Collapsible Sidebar**: Responsive sidebar that persists its state
- **Smooth Animations**: Spring-based animations using framer-motion
- **Theme Toggle**: Built-in light/dark mode support
- **User Profile**: Dropdown menu with user information and sign-out

## Usage

```tsx
import { ApolloShell } from '@/components/ui/shell';
import { onCallback, type AuthConfiguration } from '@uipath/auth-react';
import { useNavigate } from '@tanstack/react-router';

function App() {
  const navigate = useNavigate();

  const configuration: AuthConfiguration = {
    authority: 'https://your-org.cloud.uipath.com/identity_',
    redirect_uri: 'http://localhost:3000/auth_callback',
    post_logout_redirect_uri: 'http://localhost:3000',
  };

  return (
    <ApolloShell
      configuration={configuration}
      companyName="Your Company"
      productName="Your Product"
      onSigninCallback={(user) => {
        onCallback(user, (to) => {
          navigate({ to: to });
        });
      }}
    >
      {/* ... your authenticated app content ... */}
      <YourApp />
    </ApolloShell>
  );
}
```

## Animations

The Shell Template uses **framer-motion** for smooth, spring-based animations. Custom easing functions are defined as CSS variables for consistent motion throughout the application.

### Custom Easing Functions

The following custom easing functions are available via CSS variables in `globals.css`:

#### ease-out (Elements entering or exiting / user interactions)

```css
--ease-out-quad: cubic-bezier(0.25, 0.46, 0.45, 0.94);
--ease-out-cubic: cubic-bezier(0.215, 0.61, 0.355, 1);
--ease-out-quart: cubic-bezier(0.165, 0.84, 0.44, 1);
--ease-out-quint: cubic-bezier(0.23, 1, 0.32, 1);
--ease-out-expo: cubic-bezier(0.19, 1, 0.22, 1);
--ease-out-circ: cubic-bezier(0.075, 0.82, 0.165, 1);
```

#### ease-in-out (Elements moving within the screen)

```css
--ease-in-out-quad: cubic-bezier(0.455, 0.03, 0.515, 0.955);
--ease-in-out-cubic: cubic-bezier(0.645, 0.045, 0.355, 1);
--ease-in-out-quart: cubic-bezier(0.77, 0, 0.175, 1);
--ease-in-out-quint: cubic-bezier(0.86, 0, 0.07, 1);
--ease-in-out-expo: cubic-bezier(1, 0, 0, 1);
--ease-in-out-circ: cubic-bezier(0.785, 0.135, 0.15, 0.86);
```

### Spring Animation Example

The sidebar uses spring animations for natural, responsive motion:

```tsx
<motion.aside
  animate={{ width: isCollapsed ? 48 : 264 }}
  transition={{
    type: "spring",
    stiffness: 400,  // How "tight" the spring is
    damping: 30,     // How much resistance/friction
    mass: 0.8,       // Weight of the element
  }}
>
  {/* ... sidebar content ... */}
</motion.aside>
```

### Using Custom Easing in Tailwind

You can reference the custom easing functions in Tailwind classes:

```tsx
<div className="transition-all duration-300 [transition-timing-function:var(--ease-out-quart)]">
  Smooth animation
</div>
```

### Animation Best Practices

- **Use spring animations** for natural feel (avoid bouncy springs unless using drag gestures)
- **Animate**: `opacity`, `transform` (hardware accelerated)
- **Avoid**: Animating `width`, `height`, `top`, `left` directly
- **Performance**: Use `will-change` sparingly, only for `transform`, `opacity`, `filter`
- **Duration**: Keep animations fast (< 1s) for responsive UI feel
- **Origin-aware**: Animate from the trigger (e.g., dropdowns animate from button)

## Dependencies

The Shell Template requires the following dependencies:

- `framer-motion` - Animation library
- `@uipath/auth-react` - UiPath authentication
- `lucide-react` - Icons

These are automatically installed when you add the shell component via shadcn.

