# Introduction

**Apollo Vertex** is the design system for UiPath Vertical Solutions - customizable, industry-specific automation solutions built on the UiPath platform.

## Overview

The `@uipath/vs-core` package provides everything you need to build data-driven UiPath solutions:

- **UiPath SDK Integration**: Simplified APIs for working with UiPath Data Service entities and process executions
- **React Context Provider**: `SolutionProvider` for easy SDK initialization and data access
- **TanStack Query Collections**: Ready-to-use data collections with built-in caching and reactivity
- **Vite Plugin**: Build-time tooling for type generation and configuration
- **TypeScript Types**: Full type safety for entities, processes, and configurations

## Getting Started

To create a new vertical solution, you have two options:

**Option 1: Use the CLI (Recommended)**

```bash
npx @uipath/ui-cli create my-solution
```

**Option 2: Fork the Template**

Start with the [Vertical Solution Template](https://github.com/UiPath/vertical-solution-template) for a pre-configured project structure.

Both options give you a ready-to-use project with `@uipath/vs-core` already installed and configured.

## How It Works

After using the template or CLI, your project is pre-configured with everything you need. Here's how to use it:

### 1. Setup Type Safety and Provider

First, register your entity types for full TypeScript support, then wrap your app with `SolutionProvider`:

```tsx
import { SolutionProvider } from '@uipath/vs-core';
import { QueryClient, QueryClientProvider } from '@tanstack/react-query';
import { entities, processes } from './vss.gen'; // Auto-generated by Vite plugin

// Register entity types for TypeScript
declare module "@uipath/vs-core" {
  interface Register {
    entities: typeof entities;
  }
}

const queryClient = new QueryClient();

function App() {
  return (
    <QueryClientProvider client={queryClient}>
      <SolutionProvider
        client={queryClient}
        env="production"
        orgName="your-org"
        tenantName="your-tenant"
        clientId="your-client-id"
        redirectUri="http://localhost:5173"
        configuration={{ entities, processes }}
      >
        <YourApp />
      </SolutionProvider>
    </QueryClientProvider>
  );
}
```

### 2. Access Data with useSolution Hook

Use the `useSolution` hook to access your data collections and query them with TanStack Query:

```tsx
import { useSolution } from '@uipath/vs-core';
import { useLiveQuery, eq } from '@tanstack/react-db';

function InvoicesList() {
  const { api } = useSolution();

  // Query all invoices
  const { data: invoices, isLoading } = useLiveQuery(q =>
    q.from({ invoices: api.collections.Invoices })
  );

  // Query invoices with process data joined
  const { data: result } = useLiveQuery(q => {
    return q.from({ entities: api.collections.Invoices })
      .join(
        { processes: api.collections.processes.all },
        ({ entities, processes }) =>
          eq(entities.InternalInstanceId, processes?.instanceId),
        "inner"
      )
      .select(({ entities, processes }) => ({
        ...entities,
        ...processes,
      }));
  });

  // Query a single invoice by ID
  const { data: [invoice] } = useLiveQuery(q =>
    q.from({ invoices: api.collections.Invoices })
     .where(({ invoices }) => eq(invoices.Id, invoiceId))
  );

  return <div>{/* Render your data */}</div>;
}
```

That's it! The `useSolution` hook gives you access to all your UiPath data through reactive TanStack Query collections.

## What Gets Auto-Generated

The Vite plugin (`@uipath/vs-core/vite`) automatically generates the `vss.gen.ts` file based on your UiPath Data Service schema. This file contains:

- Entity definitions with all fields and types
- Process definitions with their IDs and folder keys
- Full TypeScript types for type-safe data access

You never need to manually write entity or process configurations - just connect to your UiPath environment and the plugin handles the rest.

## Resources

- [Vertical Solution Template](https://github.com/UiPath/vertical-solution-template) - Ready-to-use project template
- [UI CLI](https://github.com/UiPath/ui-cli) - Interactive project scaffolding tool
- [UiPath Documentation](https://docs.uipath.com/) - Official UiPath documentation
